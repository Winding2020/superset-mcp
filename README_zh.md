# Superset MCP æœåŠ¡å™¨

ä¸€ä¸ªç”¨äºç®¡ç† Apache Superset æ•°æ®é›†ã€æŒ‡æ ‡å’Œ SQL æŸ¥è¯¢çš„æ¨¡å‹ä¸Šä¸‹æ–‡åè®® (MCP) æœåŠ¡å™¨ã€‚

> ğŸ“– [English Documentation](README.md)

## ğŸš€ åŠŸèƒ½ç‰¹æ€§

- **æ•°æ®é›†ç®¡ç†**ï¼šå¯¹ Superset æ•°æ®é›†çš„å®Œæ•´ CRUD æ“ä½œ
- **æŒ‡æ ‡ç®¡ç†**ï¼šåˆ›å»ºã€æ›´æ–°å’Œç®¡ç†æ•°æ®é›†æŒ‡æ ‡
- **è®¡ç®—åˆ—**ï¼šä¸ºæ•°æ®é›†åˆ›å»ºå’Œç®¡ç†è®¡ç®—åˆ—
- **å›¾è¡¨ç®¡ç†**ï¼šæŸ¥çœ‹å’Œä¿®æ”¹å›¾è¡¨å¯è§†åŒ–å‚æ•°å’Œè¿‡æ»¤å™¨
- **ä»ªè¡¨æ¿æ“ä½œ**ï¼šè®¿é—®ä»ªè¡¨æ¿ä¿¡æ¯ã€å›¾è¡¨å’Œè¿‡æ»¤å™¨
- **SQL æŸ¥è¯¢æ‰§è¡Œ**ï¼šç›´æ¥é€šè¿‡ Superset æ‰§è¡Œ SQL æŸ¥è¯¢
- **æ•°æ®åº“é›†æˆ**ï¼šåˆ—å‡ºå’Œç®¡ç†æ•°æ®åº“è¿æ¥
- **èµ„æºè®¿é—®**ï¼šé€šè¿‡ MCP èµ„æºæµè§ˆæ•°æ®é›†ã€æ•°æ®åº“å’ŒæŒ‡æ ‡

## ğŸ“‹ å…ˆå†³æ¡ä»¶

- Node.js 18+ 
- è®¿é—® Apache Superset å®ä¾‹
- æœ‰æ•ˆçš„ Superset å‡­æ®ï¼ˆç”¨æˆ·å/å¯†ç æˆ–è®¿é—®ä»¤ç‰Œï¼‰

## ğŸ› ï¸ å®‰è£…

### ä¸ Cursor æˆ– Claude Desktop ä¸€èµ·ä½¿ç”¨

#### 1. æ·»åŠ åˆ° MCP é…ç½®
å°†ä»¥ä¸‹é…ç½®æ·»åŠ åˆ°æ‚¨çš„ MCP è®¾ç½®æ–‡ä»¶ä¸­ï¼š

```json
{
  "mcpServers": {
    "superset-mcp": {
      "command": "npx",
      "args": [
        "-y",
        "superset-mcp"
      ],
      "env": {
        "SUPERSET_BASE_URL": "",
        "SUPERSET_USERNAME": "",
        "SUPERSET_PASSWORD": ""
      }
    }
  }
}
```

#### 2. ç¯å¢ƒå˜é‡
é€šè¿‡æ›´æ–° MCP é…ç½®ä¸­çš„ `env` éƒ¨åˆ†æ¥é…ç½®æ‚¨çš„ Superset è¿æ¥ï¼š

```json
"env": {
  "SUPERSET_BASE_URL": "your-superset-url",
  "SUPERSET_USERNAME": "your_username",
  "SUPERSET_PASSWORD": "your_password",
}
```

**æ›¿ä»£æ–¹æ¡ˆï¼šä½¿ç”¨è®¿é—®ä»¤ç‰Œ**
```json
"env": {
  "SUPERSET_BASE_URL": "your-superset-url",
  "SUPERSET_ACCESS_TOKEN": "your_access_token"
}
```

## ğŸ”§ å¯ç”¨å·¥å…·

### æ•°æ®é›†æ“ä½œ
| å·¥å…· | æè¿° |
|------|-------------|
| `list_datasets` | è·å–å¸¦æœ‰è¿‡æ»¤å’Œæ’åºçš„æ‰€æœ‰æ•°æ®é›†åˆ†é¡µåˆ—è¡¨ |
| `get_dataset` | è·å–ç‰¹å®šæ•°æ®é›†çš„è¯¦ç»†ä¿¡æ¯ |
| `create_dataset` | åˆ›å»ºæ–°æ•°æ®é›†ï¼ˆç‰©ç†æˆ–å¸¦ SQL çš„è™šæ‹Ÿæ•°æ®é›†ï¼‰ |
| `update_dataset` | æ›´æ–°ç°æœ‰æ•°æ®é›†å±æ€§ |
| `delete_dataset` | åˆ é™¤æ•°æ®é›† |
| `refresh_dataset_schema` | ä»æºæ•°æ®åº“åˆ·æ–°æ•°æ®é›†æ¶æ„ |
| `find_and_replace_in_sql` | åœ¨è™šæ‹Ÿæ•°æ®é›† SQL ä¸­æŸ¥æ‰¾å’Œæ›¿æ¢æ–‡æœ¬ |

### æŒ‡æ ‡æ“ä½œ
| å·¥å…· | æè¿° |
|------|-------------|
| `get_dataset_metrics` | è·å–æ•°æ®é›†çš„æ‰€æœ‰æŒ‡æ ‡ |
| `create_dataset_metric` | ä½¿ç”¨ SQL è¡¨è¾¾å¼åˆ›å»ºæ–°æŒ‡æ ‡ |
| `update_dataset_metric` | æ›´æ–°ç°æœ‰æŒ‡æ ‡å±æ€§ |
| `delete_dataset_metric` | åˆ é™¤æŒ‡æ ‡ |

### è®¡ç®—åˆ—æ“ä½œ
| å·¥å…· | æè¿° |
|------|-------------|
| `get_dataset_columns` | è·å–åˆ—ä¿¡æ¯ï¼ˆåŒ…æ‹¬è®¡ç®—åˆ—ï¼‰ |
| `create_calculated_column` | ä½¿ç”¨ SQL è¡¨è¾¾å¼åˆ›å»ºæ–°çš„è®¡ç®—åˆ— |
| `update_calculated_column` | æ›´æ–°ç°æœ‰è®¡ç®—åˆ— |
| `delete_calculated_column` | åˆ é™¤è®¡ç®—åˆ— |

### å›¾è¡¨æ“ä½œ
| å·¥å…· | æè¿° |
|------|-------------|
| `list_charts` | è·å–å¸¦æœ‰è¿‡æ»¤å’Œæ’åºçš„æ‰€æœ‰å›¾è¡¨åˆ†é¡µåˆ—è¡¨ |
| `get_chart_params` | è·å–å›¾è¡¨å¯è§†åŒ–ç±»å‹æ‰€éœ€çš„å‚æ•°æ ¼å¼ |
| `get_current_chart_config` | è·å–å›¾è¡¨çš„å½“å‰å¯è§†åŒ–å‚æ•° |
| `update_chart_params` | æ›´æ–°å›¾è¡¨å¯è§†åŒ–å‚æ•° |
| `get_chart_filters` | è·å–åº”ç”¨äºå›¾è¡¨çš„å½“å‰æ•°æ®è¿‡æ»¤å™¨ |
| `set_chart_filters` | ä¸ºå›¾è¡¨è®¾ç½®æ•°æ®è¿‡æ»¤å™¨ï¼ˆæ°¸ä¹…æ›´æ–°å›¾è¡¨ï¼‰ |

### ä»ªè¡¨æ¿æ“ä½œ
| å·¥å…· | æè¿° |
|------|-------------|
| `list_dashboards` | è·å–å¸¦æœ‰è¿‡æ»¤å’Œæ’åºçš„æ‰€æœ‰ä»ªè¡¨æ¿åˆ†é¡µåˆ—è¡¨ |
| `get_dashboard_charts` | è·å–ç‰¹å®šä»ªè¡¨æ¿ä¸­çš„æ‰€æœ‰å›¾è¡¨åŠå…¶ä¿¡æ¯ |
| `get_dashboard_filters` | è·å–ä»ªè¡¨æ¿çš„è¿‡æ»¤å™¨é…ç½®ï¼ˆåŸç”Ÿè¿‡æ»¤å™¨ã€å…¨å±€è¿‡æ»¤å™¨ï¼‰ |
| `get_dashboard_chart_query_context` | è·å–ä»ªè¡¨æ¿ä¸­å›¾è¡¨çš„å®Œæ•´æŸ¥è¯¢ä¸Šä¸‹æ–‡ï¼ˆæ•°æ®é›† IDã€ä½¿ç”¨çš„æŒ‡æ ‡åŠå…¶ SQL è¡¨è¾¾å¼ã€è®¡ç®—åˆ—ã€åº”ç”¨çš„è¿‡æ»¤å™¨ï¼‰ |

### SQL æ“ä½œ
| å·¥å…· | æè¿° |
|------|-------------|
| `execute_sql` | æ‰§è¡Œå¸¦æœ‰ç»“æœé™åˆ¶å’Œæ•°æ®æ˜¾ç¤ºçš„ SQL æŸ¥è¯¢ |

### æ•°æ®åº“æ“ä½œ
| å·¥å…· | æè¿° |
|------|-------------|
| `list_databases` | è·å–æ‰€æœ‰å·²é…ç½®çš„æ•°æ®åº“è¿æ¥ |

## ğŸ“š èµ„æº

é€šè¿‡ MCP èµ„æºè®¿é—®åªè¯»æ¦‚è§ˆï¼š

- `superset://datasets` - æ‰€æœ‰æ•°æ®é›†æ¦‚è§ˆ
- `superset://databases` - æ•°æ®åº“è¿æ¥åˆ—è¡¨  
- `superset://dataset-metrics` - æ‰€æœ‰æ•°æ®é›†ä¸­æŒ‡æ ‡çš„æ¦‚è§ˆ
